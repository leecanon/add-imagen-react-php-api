{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vilee\\\\Desktop\\\\reactjs\\\\aplicacion-imagen\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { FaCheckCircle, FaTrash } from 'react-icons/fa'; // npm i react-icons\n\nimport axios from 'axios'; // npm i axios\n\nimport { Nabvar } from './component/Navbar';\n\nfunction App() {\n  _s();\n\n  const [lista, setLista] = useState([]);\n  const [descripcion, setDescripcion] = useState('');\n  const [imagen, setImagen] = useState(null);\n  useEffect(() => {\n    getImagenes();\n  }, []);\n\n  async function getImagenes() {\n    const res = await axios.get('http://localhost/apirestimages/');\n    setLista(res.data);\n    console.log(res.data);\n  }\n\n  async function addImagen(e) {\n    e.preventDefault();\n    let fd = new FormData();\n    fd.append(\"imagen\", imagen);\n    fd.append(\"descripcion\", descripcion);\n    const res = await axios.post('http://localhost/apirestimages/', fd);\n    console.log(res.data);\n    getImagenes();\n  }\n\n  async function deleteImagen(id) {\n    if (window.confirm('Es correcto eliminar el producto?')) {\n      const res = await axios.delete('http://localhost/apirestimages/?id=' + id);\n      getImagenes();\n      console.log(res.data);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Nabvar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 p-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"card p-2 mt-2 border-secondary\",\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }\n  }, \"React Imagen\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    cols: \"4\",\n    placeholder: \"descripcion\",\n    className: \"form-control\",\n    onChange: e => setDescripcion(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 14\n    }\n  }, \"imagen\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control-file\",\n    accept: \"image/*\",\n    onChange: e => setImagen(e.target.files[0]),\n    multiple: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-success btn-sm\",\n    onClick: e => addImagen(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \"Add \", /*#__PURE__*/React.createElement(FaCheckCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 52\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7 p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }\n  }, lista.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card p-2 mt-2 border-secondary\",\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"data:image/png;base64,\" + item.imagen,\n    className: \"img-fluid\",\n    alt: \"imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \" \", item.descripcion), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row-reverse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-danger btn-sm \",\n    onClick: () => deleteImagen(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(FaTrash, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 67\n    }\n  })))))))));\n}\n\n_s(App, \"ZrEpyaHRqYn9MKiOkv4Fotoa78s=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/vilee/Desktop/reactjs/aplicacion-imagen/src/App.js"],"names":["React","useState","useEffect","FaCheckCircle","FaTrash","axios","Nabvar","App","lista","setLista","descripcion","setDescripcion","imagen","setImagen","getImagenes","res","get","data","console","log","addImagen","e","preventDefault","fd","FormData","append","post","deleteImagen","id","window","confirm","delete","target","value","files","map","item"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAAQC,aAAR,EAAuBC,OAAvB,QAAsC,gBAAtC,C,CAAwD;;AACxD,OAAOC,KAAP,MAAkB,OAAlB,C,CAA2B;;AAC3B,SAAQC,MAAR,QAAqB,oBAArB;;AACA,SAASC,GAAT,GAAe;AAAA;;AAEX,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAqBR,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,IAAD,CAApC;AAEJC,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,WAAW;AACZ,GAFQ,EAEP,EAFO,CAAT;;AAIA,iBAAeA,WAAf,GAA4B;AAE1B,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,iCAAV,CAAlB;AACEP,IAAAA,QAAQ,CAACM,GAAG,CAACE,IAAL,CAAR;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACH;;AAED,iBAAeG,SAAf,CAAyBC,CAAzB,EAA4B;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,EAAE,GAAG,IAAIC,QAAJ,EAAT;AACAD,IAAAA,EAAE,CAACE,MAAH,CAAU,QAAV,EAAoBb,MAApB;AACAW,IAAAA,EAAE,CAACE,MAAH,CAAU,aAAV,EAAyBf,WAAzB;AACA,UAAMK,GAAG,GAAG,MAAMV,KAAK,CAACqB,IAAN,CAAW,iCAAX,EAA8CH,EAA9C,CAAlB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACAH,IAAAA,WAAW;AAEX;;AAGH,iBAAea,YAAf,CAA4BC,EAA5B,EAA+B;AAE5B,QAAGC,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAH,EAAuD;AACpD,YAAMf,GAAG,GAAG,MAAMV,KAAK,CAAC0B,MAAN,CAAa,wCAAsCH,EAAnD,CAAlB;AACAd,MAAAA,WAAW;AACXI,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB;AACH;AACF;;AAGD,sBAEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEF;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACO;AAAM,IAAA,SAAS,EAAC,gCAAhB;AAAiD,IAAA,OAAO,EAAC,qBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAGE;AAAW,IAAA,IAAI,EAAC,GAAhB;AAAoB,IAAA,WAAW,EAAC,aAAhC;AAA8C,IAAA,SAAS,EAAC,cAAxD;AACA,IAAA,QAAQ,EAAGI,CAAD,IAAOV,cAAc,CAACU,CAAC,CAACW,MAAF,CAASC,KAAV,CAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAQE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEG;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAqB,IAAA,SAAS,EAAC,mBAA/B;AAAmD,IAAA,MAAM,EAAC,SAA1D;AACI,IAAA,QAAQ,EAAGZ,CAAD,IAAOR,SAAS,CAACQ,CAAC,CAACW,MAAF,CAASE,KAAT,CAAe,CAAf,CAAD,CAD9B;AACmD,IAAA,QAAQ,MAD3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,CARF,eAaK;AAAS,IAAA,SAAS,EAAC,gCAAnB;AACE,IAAA,OAAO,EAAGb,CAAD,IAAOD,SAAS,CAACC,CAAD,CAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACqC,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADrC,CAbL,CADP,CAFF,eAqBO;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACOb,KAAK,CAAC2B,GAAN,CAAUC,IAAI,iBAChB;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAgD,IAAA,GAAG,EAAEA,IAAI,CAACR,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,GAAG,EAAE,2BAAyBQ,IAAI,CAACxB,MAAxC;AAAgD,IAAA,SAAS,EAAC,WAA1D;AACE,IAAA,GAAG,EAAC,QADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAGF;AAAI,IAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA+BwB,IAAI,CAAC1B,WAApC,CAHE,eAKM;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAS,IAAA,SAAS,EAAC,gCAAnB;AACI,IAAA,OAAO,EAAE,MAAMiB,YAAY,CAACS,IAAI,CAACR,EAAN,CAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAC2C,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD3C,CADH,CALN,CADF,CADE,CADP,CArBP,CAFE,CAFF;AAmDC;;GA1FQrB,G;;KAAAA,G;AA4FT,eAAeA,GAAf","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport {FaCheckCircle, FaTrash } from 'react-icons/fa'; // npm i react-icons\r\nimport axios from 'axios'; // npm i axios\r\nimport {Nabvar} from './component/Navbar';\r\nfunction App() {\r\n  \r\n    const [lista, setLista] =  useState([]);\r\n    const [descripcion, setDescripcion] = useState('');  \r\n    const [imagen, setImagen] = useState(null);\r\n    \r\nuseEffect(() => {\r\n  getImagenes();\r\n},[])\r\n\r\nasync function getImagenes(){\r\n\r\n  const res = await axios.get('http://localhost/apirestimages/');\r\n    setLista(res.data)\r\n    console.log(res.data)\r\n} \r\n\r\nasync function addImagen(e) {\r\n   e.preventDefault();\r\n   let fd = new FormData() \r\n   fd.append(\"imagen\", imagen)\r\n   fd.append(\"descripcion\", descripcion)\r\n   const res = await axios.post('http://localhost/apirestimages/', fd);\r\n   console.log(res.data)\r\n   getImagenes();\r\n\r\n  }\r\n\r\n\r\nasync function deleteImagen(id){ \r\n \r\n   if(window.confirm('Es correcto eliminar el producto?')){\r\n      const res = await axios.delete('http://localhost/apirestimages/?id='+id);\r\n      getImagenes();\r\n      console.log(res.data)\r\n  }\r\n} \r\n\r\n\r\nreturn (\r\n\r\n  <div className=\"container \">\r\n  <Nabvar/>    \r\n<div className=\"row p-3\">\r\n\r\n  <div className=\"col-md-5 p-2 \">\r\n         <form className=\"card p-2 mt-2 border-secondary\" encType=\"multipart/form-data\">\r\n           <h5>React Imagen</h5>\r\n          \r\n           <textarea  cols=\"4\" placeholder=\"descripcion\" className=\"form-control\" \r\n           onChange={(e) => setDescripcion(e.target.value)} >\r\n\r\n           </textarea>\r\n\r\n           <div className=\"form-group\">\r\n             <label htmlFor=\"img\">imagen</label> \r\n              <input type=\"file\"   className=\"form-control-file\" accept=\"image/*\"\r\n                  onChange={(e) => setImagen(e.target.files[0])} multiple/></div> \r\n            \r\n              <button  className=\"btn btn-outline-success btn-sm\" \r\n                onClick={(e) => addImagen(e)} >Add <FaCheckCircle /></button> \r\n         </form>\r\n       </div>\r\n\r\n       <div className=\"col-md-7 p-2\">\r\n            { lista.map(item => (\r\n            <div className=\"card p-2 mt-2 border-secondary\" key={item.id}>\r\n              <div className=\"card-body\">\r\n              <img src={\"data:image/png;base64,\"+item.imagen} className=\"img-fluid\" \r\n                alt=\"imagen\"/>\r\n            <h5 className=\"text-primary\"> {item.descripcion}</h5>  \r\n\r\n                    <div className=\"d-flex flex-row-reverse\" >\r\n                       <button  className=\"btn btn-outline-danger btn-sm \" \r\n                           onClick={() => deleteImagen(item.id)} ><FaTrash />\r\n                           </button> \r\n                      \r\n                     </div>  \r\n                      \r\n                  </div> \r\n              </div>         \r\n            ))}  \r\n     </div>\r\n\r\n</div>\r\n      \r\n       \r\n</div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}